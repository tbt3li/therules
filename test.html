<input type="number" id="a" placeholder="Value A" oninput="calculate()" value="0">
<input type="number" id="b" placeholder="Value B" oninput="calculate()" value="0">
<input type="number" id="c" placeholder="Value C" oninput="calculate()" value="0">

<h2>Result: <span id="result">0</span></h2>

<script>
function calculate() {
  const a = document.getElementById("a").value || 0;
  const b = document.getElementById("b").value || 0;
  const c = document.getElementById("c").value || 0;
  
  // Create FormData object
  const formData = new FormData();
  formData.append("a", a);
  formData.append("b", b);
  formData.append("c", c);
  
  // Send to Worker
  fetch("https://calc1-proxy.t3li.workers.dev/", {
    method: "POST",
    body: formData  // Worker will convert this to URL-encoded
  })
  .then(async response => {
    if (!response.ok) {
      throw new Error(`Server error: ${response.status}`);
    }
    return response.json();
  })
  .then(data => {
    console.log("Success:", data);
    document.getElementById("result").innerText = data.result;
  })
  .catch(error => {
    console.error("Error:", error);
    document.getElementById("result").innerText = "Error: " + error.message;
  });
}

// Initial calculation
calculate();
</script>
